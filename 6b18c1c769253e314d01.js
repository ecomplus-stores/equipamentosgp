(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{181:function(e,t,i){"use strict";const n={from:{en_us:"from",pt_br:"de"},to:{en_us:"to",pt_br:"por"},unavailable:{en_us:"Unavailable",pt_br:"Indisponível"},out_of_stock:{en_us:"Out of stock",pt_br:"Sem estoque"},in_stock:{en_us:"units in stock",pt_br:"unidades em estoque"},just:{en_us:"Just",pt_br:"Apenas"},buy:{en_us:"Buy",pt_br:"Comprar"},up_to:{en_us:"up to",pt_br:"até"},zip:{en_us:"Zip code",pt_br:"CEP"},calculate_shipping:{en_us:"Calculate shipping",pt_br:"Calcular frete e prazo"},days:{en_us:"days",pt_br:"dias"},working_days:{en_us:"working days",pt_br:"dias úteis"},free_shipping:{en_us:"free shipping",pt_br:"frete grátis"},interest_free:{en_us:"interest free",pt_br:"sem juros"},discount_of:{en_us:"discount of",pt_br:"desconto de"},select_variation:{en_us:"Please select an option in each field above",pt_br:"Por favor selecione uma opção em cada campo acima"}};t.a=function(e,t){return t||(t=this&&this.lang||"en_us"),n[e]&&n[e][t]||""}},182:function(e,t,i){var n=i(217);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(137).default)("7e93926d",n,!0,{})},208:function(e,t,i){"use strict";var n=i(31),s=i(96),o=i(45),a=i(46),r=i(181);const c=(e,t)=>{const{type:i,value:n}=t;if(n)return"percentage"===i?e*(100-n)/100:e-n};var p={name:"EcPrices",props:{lang:{type:String,default:n.$ecomConfig.get("lang")},product:{type:Object,required:!0},literal:{type:Boolean},big:{type:Boolean},installmentsOption:{type:Object},discountOption:{type:Object},discountText:{type:[String,Boolean],default:""}},data(){return{interestFreeInstallments:0,discount:{type:null,value:0},extraDiscount:{type:null,value:0},discountLabel:this.discountText}},methods:{dictionary:r.a,formatMoney:s.a,updateInstallments(e){if(e&&!e.monthly_interest){const t=e.min_installment||5,i=parseInt(this.price/t,10);this.interestFreeInstallments=Math.min(i,e.max_number)}},updateDiscount(e){e&&(!e.min_amount||e.min_amount<=this.price)&&(this.discount=e,!this.discountText&&!1!==this.discountText&&e.label&&(this.discountLabel="via ".concat(e.label)))}},computed:{price(){const e=Object(o.a)(this.product);return this.extraDiscount.value?c(e,this.extraDiscount):e},comparePrice(){return Object(a.a)(this.product)?this.product.base_price:this.extraDiscount.value?Object(o.a)(this.product):void 0},priceWithDiscount(){return c(this.price,this.discount)}},created(){if(this.installmentsOption||this.discountOption)this.updateInstallments(this.installmentsOption),this.updateDiscount(this.discountOption);else{const{storefront:e}=window;if(e){const t=()=>{const t=e.info&&e.info.list_payments;return!!t&&(this.updateInstallments(t.installments_option),this.updateDiscount(t.discount_option),Object.keys(t).length>0)};t()||e.on("info:list_payments",t);const i=()=>{const t=e.info&&e.info.apply_discount;if(t){const e=t.available_extra_discount;return e&&(this.extraDiscount=e),Object.keys(t).length>0}return!1};i()||e.on("info:apply_discount",i)}}}},l=(i(216),i(72)),u=Object(l.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ec-prices",class:{"ec-prices--literal":e.literal,"ec-prices--big":e.big}},[e.comparePrice?i("span",{staticClass:"ec-prices__compare"},[e.literal?[e._v(" "+e._s(e.dictionary("from"))+" "),i("s",[e._v(e._s(e.formatMoney(e.comparePrice)))]),e._v(" "+e._s(e.dictionary("to"))+" ")]:i("s",[e._v(e._s(e.formatMoney(e.comparePrice)))])],2):e._e(),i("strong",{staticClass:"ec-prices__value"},[e._v(" "+e._s(e.formatMoney(e.price))+" ")]),i("transition-group",{attrs:{"enter-active-class":"animated slideInDown"}},[e.interestFreeInstallments>1?i("div",{key:"installments",staticClass:"ec-prices__installments"},[e._v(" "+e._s(e.interestFreeInstallments)+"x "),i("span",[e._v(" "+e._s(e.formatMoney(e.price/e.interestFreeInstallments))+" ")]),e.literal?i("small",[e._v(" "+e._s(e.dictionary("interest_free"))+" ")]):e._e()]):e._e(),"number"==typeof e.priceWithDiscount&&e.priceWithDiscount<e.price?i("div",{key:"discount",staticClass:"ec-prices__discount"},[i("span",[e._v(" "+e._s(e.formatMoney(e.priceWithDiscount))+" ")]),"string"==typeof e.discountLabel?i("small",[e._v(" "+e._s(e.discountLabel)+" ")]):e._e()]):e._e()])],1)}),[],!1,null,null,null);t.a=u.exports},216:function(e,t,i){"use strict";var n=i(182);i.n(n).a},217:function(e,t,i){(t=i(136)(!0)).push([e.i,".ec-prices{line-height:1.2}.ec-prices:not(.ec-prices--big){font-size:.95rem}.ec-prices:not(.ec-prices--big) .ec-prices__installments{font-weight:300}.ec-prices__value{display:block;font-size:1.25rem}.ec-prices--big .ec-prices__value{font-size:250%;margin-bottom:.25rem}.ec-prices--literal .ec-prices__discount span,.ec-prices--literal .ec-prices__installments span{font-weight:700}.ec-prices--literal small{font-size:100%}.ec-prices:not(.ec-prices--literal) .ec-prices__compare{color:var(--gray)}","",{version:3,sources:["/home/runner/work/equipamentosgp/equipamentosgp/node_modules/@ecomplus/widget-product/src/components/scss/EcPrices.scss"],names:[],mappings:"AAGA,WACE,eAAgB,CADlB,gCAII,gBAAiB,CAJrB,yDAOM,eAAgB,CACjB,kBAID,aAAc,CACd,iBAAkB,CACnB,kCAGC,cAAe,CACf,oBAAqB,CACtB,gGAMK,eAAiB,CAJtB,0BASG,cAAe,CA9BrB,wDAoCM,iBAAkB",file:"EcPrices.scss",sourcesContent:["$primary: #e60014; $secondary: #cecece; $settings-theme: (\n  bootswatch: _\n); \n.ec-prices {\n  line-height: 1.2;\n\n  &:not(.ec-prices--big) {\n    font-size: .95rem;\n\n    .ec-prices__installments {\n      font-weight: 300;\n    }\n  }\n\n  &__value {\n    display: block;\n    font-size: 1.25rem;\n  }\n\n  &--big .ec-prices__value {\n    font-size: 250%;\n    margin-bottom: .25rem;\n  }\n\n  &--literal {\n    .ec-prices__installments,\n    .ec-prices__discount {\n      span {\n        font-weight: bold;\n      }\n    }\n\n    small {\n      font-size: 100%;\n    }\n  }\n\n  &:not(.ec-prices--literal) {\n    .ec-prices__compare {\n      color: var(--gray);\n    }\n  }\n}\n"]}]),e.exports=t},244:function(e,t,i){var n=i(261);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(137).default)("d004c436",n,!0,{})},245:function(e,t,i){var n=i(267);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(137).default)("20bb62c5",n,!0,{})},253:function(e,t,i){"use strict";const n={shopping_cart:{en_us:"Shopping cart",pt_br:"Carrinho de compras"},my_cart:{en_us:"My cart",pt_br:"Meu carrinho"},close:{en_us:"Close",pt_br:"Fechar"},remove:{en_us:"Remove",pt_br:"Remover"},checkout:{en_us:"Checkout",pt_br:"Finalizar compra"},see_cart:{en_us:"See shopping cart",pt_br:"Ver carrinho"},empty_cart:{en_us:"Your shopping cart is empty",pt_br:"Seu carrinho de compras está vazio"},continue_shopping:{en_us:"Continue shopping",pt_br:"Continuar comprando"}};t.a=function(e,t){return t||(t=this&&this.lang||"en_us"),n[e]&&n[e][t]||""}},255:function(e,t,i){"use strict";var n=i(31),s=i(45),o=i(106),a=i(96),r=i(253),c={name:"EcCartItem",props:{lang:{type:String,default:n.$ecomConfig.get("lang")},item:{type:Object,required:!0},inputType:{type:String,default:"select"},resetQnt:{type:Boolean}},data:()=>({quantity:1,skipSelect:!1}),computed:{price(){return Object(s.a)(this.item)},img(){return Object(o.a)(this.item,null,"small")}},methods:{dictionary:r.a,formatMoney:a.a,updateQnt(){this.quantity=this.item.quantity,this.skipSelect=!Number.isInteger(this.item.quantity)||this.item.quantity>10}},created(){this.updateQnt()},watch:{quantity(e,t){("number"!=typeof e||isNaN(e))&&(this.quantity=0),this.quantity!==this.item.quantity&&(this.$emit("increase",this.quantity-t),this.quantity=this.item.quantity),e>10&&t<=10&&(this.skipSelect=!0,setTimeout(()=>{this.$refs.input.focus()},300))},resetQnt(e){e&&this.updateQnt()}}},p=(i(266),i(72)),l=Object(p.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"ec-cart-item"},[i("div",{staticClass:"ec-cart-item__name"},[e.item.slug?i("a",{attrs:{href:"/"+e.item.slug}},[e._v(" "+e._s(e.item.name)+" ")]):[e._v(" "+e._s(e.item.name)+" ")]],2),i("div",{staticClass:"ec-cart-item__row"},[e.item.picture&&Object.keys(e.item.picture).length?i(e.item.slug?"a":"span",{tag:"component",attrs:{href:"/"+e.item.slug}},[i("img",{staticClass:"ec-cart-item__picture",attrs:{src:e.img.url,alt:e.img.alt||e.item.name}})]):e._e(),i("div",{staticClass:"ec-cart-item__edit"},[e.skipSelect||"select"!==e.inputType?i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.quantity,expression:"quantity",modifiers:{number:!0}}],ref:"input",staticClass:"ec-cart-item__quantity form-control",attrs:{type:e.inputType&&"select"!==e.inputType?e.inputType:"number"},domProps:{value:e.quantity},on:{input:function(t){t.target.composing||(e.quantity=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}):i("select",{directives:[{name:"model",rawName:"v-model.number",value:e.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"custom-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var i="_value"in t?t._value:t.value;return e._n(i)}));e.quantity=t.target.multiple?i:i[0]}}},[e._l(e.item.max_quantity||10,(function(t){return i("option",{domProps:{value:t,selected:t===e.quantity}},[e._v(" "+e._s(t)+" ")])})),i("option",{domProps:{value:11}},[e._v(" 11+ ")])],2),i("a",{staticClass:"ec-cart-item__remove",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$emit("remove")}}},[e._v(" "+e._s(e.dictionary("remove"))+" ")])]),i("div",{staticClass:"ec-cart-item__prices"},[e.item.quantity>1?i("div",{staticClass:"ec-cart-item__price-un"},[e._v(" "+e._s(e.formatMoney(e.price))+" "),i("small",[e._v("/un")])]):e._e(),e._v(" "+e._s(e.formatMoney(e.price*e.item.quantity))+" ")])],1)])}),[],!1,null,null,null);t.a=l.exports},256:function(e,t,i){"use strict";i(22),i(57);var n=i(31),s=i(96),o=i(45),a=i(10),r=i(257),c=i(243),p=i.n(c),l=i(181);function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const{localStorage:_}=window,h=e=>{const t={};return["product_id","variation_id","sku","name","quantity","currency_id","currency_symbol","price","final_price","dimensions","weight"].forEach(i=>{void 0!==e[i]&&(t[i]=e[i])}),t};var g={name:"EcShipping",components:{EcShippingLine:r.a,CleaveInput:p.a},props:{lang:{type:String,default:n.$ecomConfig.get("lang")},countryCode:{type:String,default:n.$ecomConfig.get("country_code")},storeId:{type:Number,default:n.$ecomConfig.get("store_id")},zipInput:{type:Boolean,default:!0},zipCode:{type:String},selectServices:{type:Boolean},shippedItems:{type:Array,default:()=>[]},shippingResult:{type:Array,default:()=>[]},shippingData:{type:Object,default:()=>({})}},data(){return{zipCodeValue:this.zipCode,shippingServices:[],selectedService:null,waiting:!1}},methods:{dictionary:l.a,formatMoney:s.a,updateZipCode(){this.$emit("update:zipCode",this.zipCodeValue)},parseShippingOptions(e=[],t){let i;this.shippingServices=[],e.length&&(e.forEach(e=>{const{validated:n,error:s,response:o}=e;n&&!s?o.shipping_services.forEach(t=>{this.shippingServices.push(d({app_id:e.app_id},t))}):!0===t||o&&o.error||(i=!0)}),this.shippingServices.length?this.setSelectedService(0):i&&this.fetchShippingServices(!0))},fetchShippingServices(e){const{storeId:t}=this,i=d(d({},this.shippingData),{},{to:d({zip:this.zipCodeValue},this.shippingData.to)});if(this.shippedItems.length){i.items=this.shippedItems.map(h);const e=(e,t)=>e+Object(o.a)(t)*t.quantity;i.subtotal=i.items.reduce(e,0)}this.waiting=!0,Object(a.b)({url:"/calculate_shipping.json",method:"POST",storeId:t,data:i}).then(({data:t})=>this.parseShippingOptions(t.result,e)).catch(console.error).finally(()=>{this.waiting=!1})},submitZipCode(e){this.updateZipCode(),_&&_.setItem("ec-shipping-zip",this.zipCodeValue),this.fetchShippingServices()},setSelectedService(e){this.selectServices&&(this.$emit("serviceSelected",this.shippingServices[e]),this.selectedService=e)}},created(){if(_){if(!this.zipCode){const e=_.getItem("ec-shipping-zip");e&&(this.zipCodeValue=e,this.updateZipCode())}this.shippingResult.length?this.parseShippingOptions(this.shippingResult):this.zipCodeValue&&this.fetchShippingServices()}}},f=(i(260),i(72)),C=Object(f.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ec-shipping"},[e.zipInput?i("form",{staticClass:"ec-shipping__form",on:{submit:function(t){return t.preventDefault(),e.submitZipCode(t)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ec-shipping-zip"}},[e._v(" "+e._s(e.dictionary("calculate_shipping"))+" ")]),i("div",{staticClass:"input-group"},[i("cleave-input",{staticClass:"form-control ec-shipping__input",attrs:{type:"tel",id:"ec-shipping-zip",placeholder:e.dictionary("zip"),"aria-label":e.dictionary("zip"),options:"BR"===e.countryCode?{blocks:[5,3],delimiter:"-"}:{blocks:[30]}},model:{value:e.zipCodeValue,callback:function(t){e.zipCodeValue=t},expression:"zipCodeValue"}}),e._m(0)],1)])]):e._e(),i("div",{staticClass:"ec-shipping__services"},[i("transition-group",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated position-absolute fadeOutUp"}},[e.waiting?i("div",{key:"waiting",staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[e._v("Loading...")])]):i("div",{key:"services",staticClass:"list-group"},e._l(e.shippingServices,(function(t,n){return i(e.selectServices?"a":"div",{key:n,tag:"component",staticClass:"list-group-item",class:{"list-group-item-action":e.selectServices,active:e.selectServices&&e.selectedService===n},attrs:{href:e.selectServices&&"#"},on:{click:function(t){return t.preventDefault(),e.setSelectedService(n)}}},[i("span",{staticClass:"ec-shipping__option"},[i("ec-shipping-line",{attrs:{shippingLine:t.shipping_line,lang:e.lang}}),i("small",[e._v(e._s(t.label))])],1)])})),1)])],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[t("i",{staticClass:"fas fa-shipping-fast"})])])}],!1,null,null,null);t.a=C.exports},257:function(e,t,i){"use strict";var n=i(1),s=i(96),o=i(181),a={name:"EcShippingLine",props:{lang:{type:String,default:n.a.get("lang")},shippingLine:{type:Object,required:!0}},computed:{isWorkingDays(){const e=this.shippingLine;return e.posting_deadline&&e.posting_deadline.working_days||e.delivery_time&&e.delivery_time.working_days},deadline(){const e=this.shippingLine;let t=e.posting_deadline?e.posting_deadline.days:0;return e.delivery_time&&(t+=e.delivery_time.days),t}},methods:{dictionary:o.a,formatMoney:s.a}},r=i(72),c=Object(r.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ec-shipping-line"},[i("strong",[e._v(" "+e._s(e.dictionary("up_to")+" "+e.deadline)+" "+e._s(e.dictionary(e.isWorkingDays?"working_days":"days"))+" ")]),i("span",{staticClass:"mx-2"},[e.shippingLine.total_price?[e._v(" "+e._s(e.formatMoney(e.shippingLine.total_price))+" ")]:[e._v(" "+e._s(e.dictionary("free_shipping"))+" ")]],2)])}),[],!1,null,null,null);t.a=c.exports},260:function(e,t,i){"use strict";var n=i(244);i.n(n).a},261:function(e,t,i){(t=i(136)(!0)).push([e.i,".ec-shipping__input{max-width:150px}.ec-shipping__services{max-width:350px;font-size:.9rem}.ec-shipping__services .active{cursor:auto}.ec-shipping__option{display:flex;justify-content:space-between;width:100%}","",{version:3,sources:["/home/runner/work/equipamentosgp/equipamentosgp/node_modules/@ecomplus/widget-product/src/components/scss/EcShipping.scss"],names:[],mappings:"AAIE,oBACE,eAAgB,CACjB,uBAGC,eAAgB,CAChB,eAAgB,CAFjB,+BAKG,WAAY,CACb,qBAID,YAAa,CACb,6BAA8B,CAC9B,UAAW",file:"EcShipping.scss",sourcesContent:["$primary: #e60014; $secondary: #cecece; $settings-theme: (\n  bootswatch: _\n); \n.ec-shipping {\n  &__input {\n    max-width: 150px;\n  }\n\n  &__services {\n    max-width: 350px;\n    font-size: .9rem;\n\n    .active {\n      cursor: auto;\n    }\n  }\n\n  &__option {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n}\n"]}]),e.exports=t},266:function(e,t,i){"use strict";var n=i(245);i.n(n).a},267:function(e,t,i){(t=i(136)(!0)).push([e.i,".ec-cart-item{margin-bottom:1rem}.ec-cart-item__name{font-size:.88rem;line-height:1.2;margin-bottom:.25rem}.ec-cart-item__row{display:flex;align-items:center}.ec-cart-item__picture{max-width:90px;margin-right:1rem}.ec-cart-item__edit{margin-right:.25rem}.ec-cart-item__quantity{display:inline-block;width:75px}.ec-cart-item__remove{display:block;text-align:center;margin-top:.15rem;color:var(--danger);font-size:.85rem;text-transform:lowercase}.ec-cart-item__remove:hover{color:var(--danger)}.ec-cart-item__prices{text-align:right;flex-grow:1;overflow:hidden}.ec-cart-item__price-un{font-size:.83rem;color:var(--gray)}","",{version:3,sources:["/home/runner/work/equipamentosgp/equipamentosgp/node_modules/@ecomplus/widget-minicart/src/components/scss/EcCartItem.scss"],names:[],mappings:"AAGA,cACE,kBAAmB,CAEnB,oBACE,gBAAiB,CACjB,eAAgB,CAChB,oBAAqB,CACtB,mBAGC,YAAa,CACb,kBAAmB,CACpB,uBAGC,cAAe,CACf,iBAAkB,CACnB,oBAGC,mBAAoB,CACrB,wBAGC,oBAAqB,CACrB,UAAW,CACZ,sBAGC,aAAc,CACd,iBAAkB,CAClB,iBAAkB,CAClB,mBAAoB,CACpB,gBAAiB,CACjB,wBAAyB,CAN1B,4BASG,mBAAoB,CACrB,sBAID,gBAAiB,CACjB,WAAY,CACZ,eAAgB,CACjB,wBAGC,gBAAiB,CACjB,iBAAkB",file:"EcCartItem.scss",sourcesContent:["$primary: #e60014; $secondary: #cecece; $settings-theme: (\n  bootswatch: _\n); \n.ec-cart-item {\n  margin-bottom: 1rem;\n\n  &__name {\n    font-size: .88rem;\n    line-height: 1.2;\n    margin-bottom: .25rem;\n  }\n\n  &__row {\n    display: flex;\n    align-items: center;\n  }\n\n  &__picture {\n    max-width: 90px;\n    margin-right: 1rem;\n  }\n\n  &__edit {\n    margin-right: .25rem;\n  }\n\n  &__quantity {\n    display: inline-block;\n    width: 75px;\n  }\n\n  &__remove {\n    display: block;\n    text-align: center;\n    margin-top: .15rem;\n    color: var(--danger);\n    font-size: .85rem;\n    text-transform: lowercase;\n\n    &:hover {\n      color: var(--danger);\n    }\n  }\n\n  &__prices {\n    text-align: right;\n    flex-grow: 1;\n    overflow: hidden;\n  }\n\n  &__price-un {\n    font-size: .83rem;\n    color: var(--gray);\n  }\n}\n"]}]),e.exports=t},269:function(e,t,i){var n=i(320);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(137).default)("17384695",n,!0,{})},299:function(e,t,i){"use strict";i(22),i(57);var n=i(44),s=i(10),o=i(125),a=i(212),r=i(251);function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u={name:"EcDiscount",props:{amount:Object,couponCode:String,hasCouponInput:{type:Boolean,default:!0},isFormAlwaysVisible:Boolean,isCouponApplied:Boolean,isAttentionWanted:Boolean},data(){return{alertText:null,alertVariant:null,isFormVisible:this.isFormAlwaysVisible||this.couponCode,isLoading:!1,localCouponCode:this.couponCode}},computed:{i19add:()=>Object(n.a)(r.d),i19addDiscountCoupon:()=>Object(n.a)(r.e),i19code:()=>Object(n.a)(r.h),i19couponAppliedMsg:()=>"Cupom de desconto aplicado com sucesso.",i19discountCoupon:()=>Object(n.a)(r.o),i19hasCouponOrVoucherQn:()=>Object(n.a)(r.t),i19invalidCouponMsg:()=>"O cupom de desconto inserido é inválido.",i19campaignAppliedMsg:()=>"Campanha de desconto aplicada com sucesso.",canAddCoupon(){return!this.couponCode||!this.isCouponApplied||this.couponCode!==this.localCouponCode}},methods:{parseDiscountOptions(e=[]){if(e.length){let t,i,n;e.forEach(e=>{const{validated:s,error:o,response:a}=e;if(s&&!o){const s=a.discount_rule;if(s){const n=s.extra_discount.value;i>n||(i=n,t=p({app_id:e.app_id},s))}else a.invalid_coupon_message&&(n=a.invalid_coupon_message)}}),i?(this.localCouponCode?(this.$emit("update:couponCode",this.localCouponCode),this.alertText=this.i19couponAppliedMsg):this.alertText=this.i19campaignAppliedMsg,this.$emit("setDiscountRule",t),this.alertVariant="info"):(this.localCouponCode&&(this.alertText=n||this.i19invalidCouponMsg,this.alertVariant="warning"),this.$emit("setDiscountRule",{}))}},fetchDiscountOptions(e){this.isLoading=!0,Object(s.b)({url:"/apply_discount.json",method:"POST",data:e}).then(({data:e})=>this.parseDiscountOptions(e.result)).catch(e=>{this.alertText=null,console.error(e),this.$bvToast.toast(this.i19discountCoupon,{title:Object(n.a)(r.r),variant:"warning",solid:!0})}).finally(()=>{this.isLoading=!1})},submitCoupon(){if(this.canAddCoupon){const{amount:e,localCouponCode:t}=this,i=p({discount_coupon:t,amount:e},a.a);if(o.a.checkLogin()){const e=o.a.getCustomer();i.customer={_id:e._id},e.display_name&&(i.customer.display_name=e.display_name)}this.fetchDiscountOptions(i)}}},watch:{couponCode(e){e!==this.couponCode&&(this.localCouponCode=e,e&&!this.isFormVisible&&(this.isFormVisible=!0))},isFormAlwaysVisible(e){e&&(this.isFormVisible=!0)},isFormVisible(e){e&&this.$nextTick(()=>{this.$refs.input.focus()})}},created(){const{utm:e}=a.a;this.couponCode&&!this.isCouponApplied?this.submitCoupon():e&&Object.keys(e).length&&this.amount&&this.fetchDiscountOptions(p({amount:this.amount},a.a))}},d=(i(319),i(72)),m=Object(d.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ec-discount"},[e.hasCouponInput?[i("transition-group",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated position-absolute fadeOutUp"}},[e.isFormVisible?i("form",{key:"form",staticClass:"ec-discount__form",on:{submit:function(t){return t.preventDefault(),e.submitCoupon(t)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"ec-discount-coupon"}},[e._v(" "+e._s(e.i19discountCoupon)+" ")]),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.localCouponCode,expression:"localCouponCode"}],ref:"input",staticClass:"form-control ec-discount__input",attrs:{type:"text",id:"ec-discount-coupon",required:"",readonly:e.isLoading,placeholder:e.i19code,"aria-label":e.i19code},domProps:{value:e.localCouponCode},on:{input:function(t){t.target.composing||(e.localCouponCode=t.target.value)}}}),i("div",{staticClass:"input-group-append"},[e.isLoading?i("span",{staticClass:"input-group-text"},[i("span",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status"}}),i("span",{staticClass:"sr-only"},[e._v("Loading...")])]):e.canAddCoupon?i("button",{key:"add",staticClass:"btn btn-outline-secondary",attrs:{type:"submit"}},[e._v(" "+e._s(e.i19add)+" ")]):i("button",{key:"applied",staticClass:"btn btn-outline-success",attrs:{disabled:"",type:"button"}},[i("i",{staticClass:"fas fa-check-circle"})])])])])]):i("div",{key:"button"},[e.isAttentionWanted?i("h6",{staticClass:"ec-discount__intro"},[e._v(" "+e._s(e.i19hasCouponOrVoucherQn)+" ")]):e._e(),i("button",{staticClass:"ec-discount__coupon-btn btn btn-sm",class:"btn-"+(e.isAttentionWanted?"secondary":"light"),attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.isFormVisible=!e.isFormVisible}}},[i("i",{staticClass:"fas fa-tag mr-1"}),e._v(" "+e._s(e.i19addDiscountCoupon)+" ")])])])]:e._e(),i("b-alert",{staticClass:"ec-discount__alert",attrs:{variant:e.alertVariant,dismissible:"",fade:"",show:!e.isLoading&&e.alertText},on:{dismissed:function(t){e.alertText=null}}},[e._v(" "+e._s(e.alertText)+" ")])],2)}),[],!1,null,null,null);t.a=m.exports},319:function(e,t,i){"use strict";var n=i(269);i.n(n).a},320:function(e,t,i){(t=i(136)(!0)).push([e.i,".ec-discount{max-width:30rem}.ec-discount__intro{color:var(--secondary)}.ec-discount__form{margin-top:1rem}.ec-discount__alert{margin-top:1rem;font-size:.9rem}.ec-discount__input{max-width:200px}","",{version:3,sources:["/home/runner/work/equipamentosgp/equipamentosgp/node_modules/@ecomplus/storefront-app/src/components/scss/EcDiscount.scss"],names:[],mappings:"AAGA,aACE,eAAgB,CAEhB,oBACE,sBAAuB,CACxB,mBAGC,eAAgB,CACjB,oBAGC,eAAgB,CAChB,eAAgB,CACjB,oBAGC,eAAgB",file:"EcDiscount.scss",sourcesContent:["$primary: #e60014; $secondary: #cecece; $settings-theme: (\n  bootswatch: _\n); \n.ec-discount {\n  max-width: 30rem;\n\n  &__intro {\n    color: var(--secondary);\n  }\n\n  &__form{\n    margin-top: 1rem;\n  }\n\n  &__alert {\n    margin-top: 1rem;\n    font-size: .9rem;\n  }\n\n  &__input {\n    max-width: 200px;\n  }\n}\n"]}]),e.exports=t}}]);
//# sourceMappingURL=6b18c1c769253e314d01.js.map